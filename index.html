<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gestion des Stocks</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { margin-bottom: 10px; }
    .box { border: 1px solid #ddd; padding: 12px; border-radius: 8px; margin-bottom: 14px; }
    label { display: inline-block; margin: 6px 0; }
    input, select, button { margin: 4px 0; padding: 6px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
    th { background: #f5f5f5; }
    .row-ok { background: #eaffea; }
    .row-warn { background: #fff3cd; }
    .row-bad { background: #ffd6d6; }
    .actions button { margin-right: 6px; }
    .hidden { display: none; }
  </style>
</head>
<body>

  <h1>Gestion des Stocks</h1>

  <!-- LOGIN -->
  <section id="login_section" class="box">
    <h2>Connexion</h2>
    <div>
      <label>Utilisateur :</label><br>
      <input id="login_username" type="text" placeholder="admin" autocomplete="off">
    </div>
    <div>
      <label>Mot de passe :</label><br>
      <input id="login_password" type="password" placeholder="1234">
    </div>
    <button type="button" onclick="login()">Se connecter</button>
    <p id="login_error" style="color:red; margin-top:8px;"></p>
  </section>

  <!-- INVENTAIRE -->
  <section id="inventory_section" class="box hidden">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
      <h2 style="margin:0;">Inventaire</h2>
      <button type="button" onclick="logout()">Déconnexion</button>
    </div>

    <!-- Recherche -->
    <div style="margin-top:10px;">
      <label for="searchInput"><strong>Recherche :</strong></label><br>
      <input type="text" id="searchInput" placeholder="Tape un code ou un nom..." autocomplete="off">
      <button type="button" onclick="effacerRecherche()">X</button>
    </div>

    <hr>

    <!-- Sélection + affichage -->
    <div>
      <label for="productSelect"><strong>Choisir un produit :</strong></label><br>
      <select id="productSelect" onchange="afficherProduit()"></select>
    </div>

    <div style="margin-top:10px;">
      <div><strong>Nom :</strong> <span id="affichage_nom"></span></div>
      <div><strong>Stock :</strong> <span id="affichage_stock"></span></div>
    </div>

    <hr>

    <!-- Définir stock global -->
    <div>
      <label for="input_stock"><strong>Entrer un stock (ex: 5, +5, -3) :</strong></label><br>
      <input id="input_stock" type="text" placeholder="ex: +5">
      <button type="button" onclick="definirStock()">Définir le Stock</button>
    </div>

    <hr>

    <!-- Ajout produit -->
    <div>
      <h3>Ajouter un produit</h3>
      <div>
        <label>Code-barres</label><br>
        <input id="new_code" type="text" placeholder="ex: 123456">
      </div>
      <div>
        <label>Nom</label><br>
        <input id="new_name" type="text" placeholder="ex: Pâtes">
      </div>
      <div style="display:flex; gap:12px; flex-wrap:wrap;">
        <div>
          <label>Stock</label><br>
          <input id="new_stock" type="number" placeholder="0">
        </div>
        <div>
          <label>Min</label><br>
          <input id="new_min" type="number" placeholder="0">
        </div>
        <div>
          <label>Max</label><br>
          <input id="new_max" type="number" placeholder="0">
        </div>
      </div>
      <button type="button" onclick="ajouterProduit()">Ajouter</button>
    </div>

    <hr>

    <!-- Sauvegarde / export -->
    <div style="display:flex; gap:10px; flex-wrap:wrap;">
      <button type="button" onclick="sauvegarderDansNavigateur()">Sauvegarder (navigateur)</button>
      <button type="button" onclick="exporterCSV()">Exporter CSV</button>
      <button type="button" onclick="resetSauvegardeNavigateur()">Réinitialiser sauvegarde</button>
    </div>

    <hr>

    <!-- Table -->
    <div id="product"></div>

  </section>

  <script src="getData.js"></script>
</body>
</html>
<script>
  // Le code JavaScript pour gérer la logique de l'application
  // (login, gestion des produits, stockage, etc.) sera ici.
  // Pour des raisons de concision, le code n'est pas inclus dans cette réponse.